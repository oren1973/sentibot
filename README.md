📈 Sentibot – מערכת מסחר רגשית אוטונומית
מערכת שמבצעת מסחר יומי אוטומטי על בסיס ניתוח רגשי (Sentiment Analysis) של כותרות פיננסיות ומידע מרשתות חברתיות. כל יום, היא מנתחת את הסנטימנט עבור מניות במדד S&P 500 (או קבוצה נבחרת), ממליצה על BUY / SELL / HOLD, מבצעת פקודות באלפקה (Alpaca API), שומרת תיעוד מלא, ושולחת מייל עם סיכום הריצה.

⚙️ רכיבי המערכת
קובץ	תפקיד
main.py	הסקריפט הראשי. מריץ את כל התהליך: שליפת מידע → ניתוח → החלטה → ביצוע → תיעוד → מייל
news_scraper.py	שליפת כותרות מאתרי חדשות פיננסיים (Yahoo, MarketWatch, Reuters) לפי סימבול
reddit_scraper.py	שליפת פוסטים מ־Reddit (r/stocks וכד') לפי סימבול
investors_scraper.py	שליפת כותרות מ־Investors.com לפי סימבול
sentiment.py / sentiment_analyzer.py	ניתוח רגשי של כל כותרת באמצעות מודל VADER
recommender.py	קבלת החלטת מסחר לפי סף סנטימנט (ברירת מחדל: ±0.2)
alpaca_trader.py	שליחת הוראות BUY / SELL לאלפקה
learning_log.csv	קובץ תיעוד מתעדכן של כל ההרצות: סימבול, סנטימנט, החלטה, החלטה קודמת

🔁 תהליך יומי
המערכת רצה פעם ביום (באמצעות Trigger חיצוני או Cron Job).

עבור כל מניה ברשימת SYMBOLS:

נשלפות כותרות מהאתרים והפלטפורמות.

ניתוח רגשי לכותרות → ממוצע רגשי.

קבלת החלטה BUY / SELL / HOLD לפי סף.

השוואה להחלטה קודמת (אם קיימת).

אם ההחלטה שונה – מתבצעת פעולה באלפקה.

נשמרת שורת תיעוד בקובץ learning_log.csv.

נשלח מייל עם סיכום פעולות + צרוף הקובץ.

📂 מבנה הקובץ learning_log.csv
עמודה	הסבר
run_id	מזהה ריצה עוקב
symbol	סימול מניה
datetime	זמן ההרצה
sentiment_avg	ממוצע סנטימנט עבור כל הכתבות
decision	החלטה נוכחית (buy/sell/hold)
previous_decision	ההחלטה האחרונה שנרשמה עבור הסימבול הזה

📧 מייל סיכום
המייל שנשלח כולל:

רשימה של כל פעולות הקנייה/מכירה שבוצעו

תאריך ושעת הריצה

קובץ learning_log.csv כמצורף

אין מייל במקרה שבו כל ההחלטות הן HOLD – למנוע ספאם.

🛠️ קונפיגורציה (משתני סביבה)
יש להגדיר את המשתנים הבאים:

ALPACA_API_KEY

ALPACA_SECRET_KEY

EMAIL_USER

EMAIL_PASS

EMAIL_RECEIVER

🧪 בדיקה עצמית (אבחון)
המערכת כוללת תנאים כדי למנוע כפילות:

לא תשלח פקודה אם ההחלטה החדשה זהה לזו שכבר התקבלה בעבר.

אם כל ההחלטות הן HOLD – לא יישלח מייל.

ניתן לבדוק תקינות על ידי הפעלת recommender.py עם סף נמוך (למשל 0.01) לצרכי בדיקות.

🟦 הצעות להמשך
חיבור ל־Alpaca Portfolio – הצגת מצב תיק, שווי נוכחי, והיסטוריית פקודות

שדרוג "המוח" – מעבר להחלטות מבוססות למידה על בסיס תיעוד היסטורי

UI מבוסס Web – ניתוח גרפי של ביצועים

הוספת פקטורים נוספים – כמו ווליום מסחר, תזמון לפני דוחות, מגמות Reddit ועוד
